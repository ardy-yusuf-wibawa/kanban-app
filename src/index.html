<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Kanban Board</title>
    <!-- Include Tailwind CSS -->
    <link href="./output.css" rel="stylesheet" />
  </head>
  <body class="bg-gray-100 p-5">
    <div class="container mx-auto">
      <h1 class="text-3xl font-bold mb-5">Kanban Board</h1>
      <div class="flex space-x-4">
        <!-- To Do Column -->
        <div class="w-1/3">
          <h2 class="text-xl font-semibold mb-2">To Do</h2>
          <div
            id="todo"
            class="kanban-column bg-white p-4 rounded shadow min-h-[200px]"
          >
            <!-- Tasks will go here -->
          </div>
          <!-- Add Task Button -->
          <button
            id="add-task-button"
            class="mt-2 bg-blue-500 text-white px-4 py-2 rounded w-full"
          >
            Add Task
          </button>
        </div>
        <!-- In Progress Column -->
        <div class="w-1/3">
          <h2 class="text-xl font-semibold mb-2">In Progress</h2>
          <div
            id="inprogress"
            class="kanban-column bg-white p-4 rounded shadow min-h-[200px]"
          >
            <!-- Tasks will go here -->
          </div>
        </div>
        <!-- Done Column -->
        <div class="w-1/3">
          <h2 class="text-xl font-semibold mb-2">Done</h2>
          <div
            id="done"
            class="kanban-column bg-white p-4 rounded shadow min-h-[200px]"
          >
            <!-- Tasks will go here -->
          </div>
          <!-- Combined Button for Done Column -->
          <button
            id="delete-done-button"
            class="mt-2 bg-red-600 text-white px-4 py-2 rounded w-full"
          >
            Delete Selected or Clear All
          </button>
        </div>
      </div>
    </div>

    <!-- Add Task Modal -->
    <div
      id="task-modal"
      class="fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 hidden"
    >
      <div
        class="bg-white p-6 rounded shadow-lg w-96"
        onclick="event.stopPropagation()"
      >
        <h2 class="text-xl font-semibold mb-4">Add New Task</h2>
        <form id="task-form">
          <!-- Error Message -->
          <div id="task-error" class="text-red-500 mb-2 hidden"></div>

          <div class="mb-4">
            <label class="block mb-1 font-semibold">Task Description</label>
            <input
              type="text"
              id="task-title"
              class="w-full p-2 border rounded"
              required
            />
          </div>
          <div class="mb-4">
            <label class="block mb-1 font-semibold">Priority</label>
            <select id="task-priority" class="w-full p-2 border rounded">
              <option value="Low">Low</option>
              <option value="Normal" selected>Normal</option>
              <option value="High">High</option>
            </select>
          </div>
          <div class="mb-4">
            <label class="block mb-1 font-semibold">Deadline</label>
            <input
              type="datetime-local"
              id="task-deadline"
              class="w-full p-2 border rounded"
            />
          </div>
          <div class="flex justify-end">
            <button
              type="button"
              id="cancel-add-task"
              class="mr-2 bg-gray-300 text-gray-700 px-4 py-2 rounded"
            >
              Cancel
            </button>
            <button
              type="submit"
              class="bg-blue-500 text-white px-4 py-2 rounded"
            >
              Add Task
            </button>
          </div>
        </form>
      </div>
    </div>

    <!-- Edit Task Modal -->
    <div
      id="edit-modal"
      class="fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 hidden"
    >
      <div
        class="bg-white p-6 rounded shadow-lg w-96"
        onclick="event.stopPropagation()"
      >
        <h2 class="text-xl font-semibold mb-4">Edit Task</h2>
        <form id="edit-form">
          <!-- Error Message -->
          <div id="edit-error" class="text-red-500 mb-2 hidden"></div>

          <input type="hidden" id="edit-task-id" />
          <div class="mb-4">
            <label class="block mb-1 font-semibold">Task Description</label>
            <input
              type="text"
              id="edit-task-title"
              class="w-full p-2 border rounded"
              required
            />
          </div>
          <div class="mb-4">
            <label class="block mb-1 font-semibold">Priority</label>
            <select id="edit-task-priority" class="w-full p-2 border rounded">
              <option value="Low">Low</option>
              <option value="Normal">Normal</option>
              <option value="High">High</option>
            </select>
          </div>
          <div class="mb-4">
            <label class="block mb-1 font-semibold">Deadline</label>
            <input
              type="datetime-local"
              id="edit-task-deadline"
              class="w-full p-2 border rounded"
            />
          </div>
          <div class="flex justify-end">
            <button
              type="button"
              id="cancel-edit-task"
              class="mr-2 bg-gray-300 text-gray-700 px-4 py-2 rounded"
            >
              Cancel
            </button>
            <button
              type="submit"
              class="bg-blue-500 text-white px-4 py-2 rounded"
            >
              Save Changes
            </button>
          </div>
        </form>
      </div>
    </div>

    <!-- JavaScript -->
    <script src="script.js"></script>
  </body>
</html>
